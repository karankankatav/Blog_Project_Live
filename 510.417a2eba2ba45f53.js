"use strict";(self.webpackChunkblog_assignment=self.webpackChunkblog_assignment||[]).push([[510],{7510:(X,M,u)=>{u.r(M),u.d(M,{UserAuthenticationModule:()=>H});var d=u(6895),p=u(8616),l=u(433),e=u(4650),O=u(1939),v=u(881),P=u(8768);let R=(()=>{class o{constructor(n,t,i,r){this.userlogin=n,this.router=t,this.shared=i,this.toast=r,this.VerifyOtpForm=new l.cw({otp:new l.NI("",[l.kI.required])})}signUp(){this.userlogin.otpVerification({otp:this.VerifyOtpForm.controls.otp.value,mobile_no:this.shared.userMobileNo}).subscribe(t=>{t.status?this.shared.sendUserVerifiedEvent("verified"):this.toast.error({detail:"Error message",summary:t.message,duration:5e3})},t=>{this.toast.error({detail:"Error message",summary:t.statusText,duration:5e3})})}resendOtp(){this.shared.sendResendOtpEvent()}isValid(){return!this.VerifyOtpForm.invalid}preventEmptySpaces(n){"Space"===n.code&&n.preventDefault()}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(O.r),e.Y36(p.F0),e.Y36(v.t),e.Y36(P.s))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-verifyotp"]],decls:17,vars:2,consts:[[1,"verifyOtpContainer"],[1,"signUpText"],[1,"signUpHeading","medium"],[1,"VerifyOtpFormContainer"],[1,"verifyOtpText"],[1,"medium"],[1,"verifyOtpForm","medium",2,"font-size","0.875rem",3,"formGroup"],["type","text","formControlName","otp","placeholder","Enter OTP",1,"form-control",3,"keydown"],[1,"verifyBtnContainer"],[1,"resendOtp",3,"click"],[1,"verifyBtn"],[1,"btn","btn-danger","semiBold",3,"disabled","click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Signup"),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4)(6,"h1",5),e._uU(7,"Verify OTP"),e.qZA()(),e.TgZ(8,"form",6)(9,"input",7),e.NdJ("keydown",function(r){return t.preventEmptySpaces(r)}),e.qZA(),e.TgZ(10,"div",8)(11,"span",9),e.NdJ("click",function(){return t.resendOtp()}),e._uU(12,"Resend OTP"),e.qZA(),e._UZ(13,"div"),e.TgZ(14,"div",10)(15,"button",11),e.NdJ("click",function(){return t.signUp()}),e._uU(16,"Verify"),e.qZA()()()()()()),2&n&&(e.xp6(8),e.Q6J("formGroup",t.VerifyOtpForm),e.xp6(7),e.Q6J("disabled",t.VerifyOtpForm.invalid))},dependencies:[l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u],styles:[".verifyOtpContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%;color:#1f0400}.signUpText[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.signUpHeading[_ngcontent-%COMP%]{font-size:2.125rem;margin-bottom:3.75rem}.verifyOtpText[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.75rem;line-height:2.12rem;margin-bottom:1.25rem}.VerifyOtpFormContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column}.verifyOtpForm[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-evenly}.verifyOtpForm[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:.625rem}input[_ngcontent-%COMP%]::placeholder{opacity:.4}input[_ngcontent-%COMP%]:focus::placeholder{color:transparent}.verifyBtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1rem;background-color:#ff5c43;width:5.625rem;height:2.5rem}.verifyBtnContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;margin-top:.625rem}.resendOtp[_ngcontent-%COMP%]{text-decoration:underline;font: 500 16px/30px Montserrat;cursor:pointer;-webkit-user-select:none;user-select:none}@media only screen and (max-width: 480px){.signUpText[_ngcontent-%COMP%]{text-align:center}.signUpHeading[_ngcontent-%COMP%]{font-size:1.75rem}.verifyOtpText[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;font: 500 18px/22px Montserrat;margin-bottom:1.25rem}.verifyOtpForm[_ngcontent-%COMP%]{margin-bottom:0}.verifyOtpForm[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:.625rem 0}.resendOtp[_ngcontent-%COMP%]{text-decoration:none;font:normal normal medium 12px/15px Montserrat;color:#ff5c43}.verifyBtnContainer[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-end;margin:0}.verifyBtnContainer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{color:#ff5c43}.verifyBtn[_ngcontent-%COMP%]{width:100%;margin-bottom:1.875rem;margin-top:.625rem}.verifyBtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;border-radius:1.37rem}.signUpHeading[_ngcontent-%COMP%]{margin-bottom:1.25rem}}"]}),o})();var T=u(5226),w=u.n(T);function x(o,a){1&o&&(e.TgZ(0,"span",20),e._uU(1,"Enter valid Mobile no"),e.qZA())}function F(o,a){if(1&o&&(e.TgZ(0,"div",18),e.YNc(1,x,2,0,"span",19),e.qZA()),2&o){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.signUpForm.controls.mobile_no.touched&&((null==n.signUpForm.controls.mobile_no.errors?null:n.signUpForm.controls.mobile_no.errors.maxlength)||(null==n.signUpForm.controls.mobile_no.errors?null:n.signUpForm.controls.mobile_no.errors.minlength)))}}function k(o,a){1&o&&(e.TgZ(0,"span",20),e._uU(1,"Enter valid email"),e.qZA())}function L(o,a){if(1&o&&(e.TgZ(0,"div",18),e.YNc(1,k,2,0,"span",19),e.qZA()),2&o){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.signUpForm.controls.email.touched&&(null==n.signUpForm.controls.email.errors?null:n.signUpForm.controls.email.errors.email))}}function S(o,a){1&o&&(e.TgZ(0,"span"),e._uU(1,"Enter valid password"),e.qZA())}function A(o,a){if(1&o&&(e.TgZ(0,"div",18),e.YNc(1,S,2,0,"span",21),e.qZA()),2&o){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.signUpForm.controls.password.touched&&(null==n.signUpForm.controls.password.errors?null:n.signUpForm.controls.password.errors.pattern))}}const h=function(o){return{"is-invalid":o}};let E=(()=>{class o{constructor(n,t,i,r){this.userlogin=n,this.router=t,this.shared=i,this.toast=r,this.signUpForm=new l.cw({name:new l.NI("",[l.kI.required]),mobile_no:new l.NI("",[l.kI.required,l.kI.maxLength(10),l.kI.minLength(10)]),email:new l.NI("",[l.kI.required,l.kI.email]),password:new l.NI("",[l.kI.required,l.kI.pattern("(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[$@$!%*?&])[A-Za-zd$@$!%*?&].{7,}")])}),this.userVerifiedEventSubscription=this.shared.getUserVerifiedEvent().subscribe(()=>{this.sendUserSignUpInfo()}),this.resendOtpEventSubscription=this.shared.getResendOtpEvent().subscribe(()=>{this.signUp()})}signUp(){this.shared.userMobileNo=this.signUpForm.value.mobile_no,this.userlogin.userVerification({email:this.signUpForm.value.email,mobile_no:this.signUpForm.value.mobile_no}).subscribe(t=>{t.status?(this.router.navigate(["/authentication/login/verify"]),this.toast.success({detail:"Success",summary:"OTP sent on registered mobile number",duration:5e3})):this.toast.error({detail:"Error message",summary:t.message,duration:5e3})},t=>{this.toast.error({detail:"Error message",summary:t.statusText,duration:5e3})})}sendUserSignUpInfo(){this.isValid()&&this.userlogin.userSignUp(this.signUpForm.value).subscribe(n=>{n.status?(this.router.navigate(["/authentication/login"]),w().fire("Success","User registration Sucessful !","success")):(this.router.navigate(["/authentication/login/signup"]),w().fire("Error","User not registered !","error"))},n=>{this.toast.error({detail:"Error message",summary:n.statusText,duration:5e3})})}isValid(){return!this.signUpForm.invalid}preventEmptySpaces(n){"Space"===n.code&&n.preventDefault()}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(O.r),e.Y36(p.F0),e.Y36(v.t),e.Y36(P.s))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-signupform"]],decls:27,vars:17,consts:[[1,"mainsignUpContainer"],[1,"signUpText"],[1,"signUpHeading","medium"],[1,"signUpFormContainer"],[1,"loginWithFbBtn"],[1,"signUpPara","regular"],[1,"signUpForm","medium",2,"font-size","0.875rem",3,"formGroup"],["type","text","formControlName","name","placeholder","Enter name",1,"form-control",3,"ngClass"],["class","text-danger",4,"ngIf"],["type","tel","formControlName","mobile_no","placeholder","Enter mobile number",1,"form-control",3,"ngClass","keydown"],["type","email","formControlName","email","placeholder","Enter Email ID",1,"form-control",3,"ngClass","keydown"],["type","password","formControlName","password","placeholder","Create Password",1,"form-control",3,"ngClass","keydown"],[1,"signUpBtnContainer"],[1,"signUpBtn"],[1,"btn","btn-danger","semiBold",3,"disabled","click"],[1,"signUpFormFooter"],[1,"regular",2,"font-size","0.875rem"],["routerLink","/authentication/login",1,"semiBold",2,"color","#FF5C43","font-size","1rem","text-decoration","none"],[1,"text-danger"],["style","margin-bottom:10px ;",4,"ngIf"],[2,"margin-bottom","10px"],[4,"ngIf"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Signup"),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4)(6,"p",5),e._uU(7,"Register for free to enjoy the best articles on INFOTIKA\u2019s blog."),e.qZA()(),e.TgZ(8,"form",6),e._UZ(9,"input",7),e.YNc(10,F,2,1,"div",8),e.TgZ(11,"input",9),e.NdJ("keydown",function(r){return t.preventEmptySpaces(r)}),e.qZA(),e.YNc(12,L,2,1,"div",8),e.TgZ(13,"input",10),e.NdJ("keydown",function(r){return t.preventEmptySpaces(r)}),e.qZA(),e.YNc(14,A,2,1,"div",8),e.TgZ(15,"input",11),e.NdJ("keydown",function(r){return t.preventEmptySpaces(r)}),e.qZA(),e.TgZ(16,"div",12)(17,"div",13)(18,"button",14),e.NdJ("click",function(){return t.signUp()}),e._uU(19,"Sign up"),e.qZA()()()()(),e.TgZ(20,"div",15)(21,"div")(22,"span",16),e._uU(23," Already have an account?\xa0"),e.qZA(),e.TgZ(24,"span")(25,"a",17),e._uU(26,"Log in"),e.qZA()()()()()),2&n&&(e.xp6(8),e.Q6J("formGroup",t.signUpForm),e.xp6(1),e.Q6J("ngClass",e.VKq(9,h,t.signUpForm.controls.name.touched&&t.signUpForm.controls.name.errors)),e.xp6(1),e.Q6J("ngIf",t.signUpForm.controls.mobile_no.touched&&t.signUpForm.controls.mobile_no.errors),e.xp6(1),e.Q6J("ngClass",e.VKq(11,h,t.signUpForm.controls.mobile_no.touched&&t.signUpForm.controls.mobile_no.errors)),e.xp6(1),e.Q6J("ngIf",t.signUpForm.controls.email.touched&&t.signUpForm.controls.email.errors),e.xp6(1),e.Q6J("ngClass",e.VKq(13,h,t.signUpForm.controls.email.touched&&t.signUpForm.controls.email.errors)),e.xp6(1),e.Q6J("ngIf",t.signUpForm.controls.password.touched&&t.signUpForm.controls.password.errors),e.xp6(1),e.Q6J("ngClass",e.VKq(15,h,t.signUpForm.controls.password.touched&&t.signUpForm.controls.password.errors)),e.xp6(3),e.Q6J("disabled",t.signUpForm.invalid))},dependencies:[d.mk,d.O5,p.rH,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u],styles:[".mainsignUpContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%}.signUpText[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.signUpHeading[_ngcontent-%COMP%]{font-size:2.125rem;margin-bottom:3.75rem}.signUpPara[_ngcontent-%COMP%]{font-size:.875rem;margin-bottom:1.43rem}.signUpFormContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column}.loginWithFbBtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-bottom:2.5rem;min-height:2.5rem;background-color:#1877f2;font-size:.875rem}.signUpForm[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-evenly}.signUpForm[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:.625rem}input[_ngcontent-%COMP%]::placeholder{opacity:.4}input[_ngcontent-%COMP%]:focus::placeholder{color:transparent}.signUpFormFooter[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:end;margin-top:2.5rem}.signUpFormFooter[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.signUpBtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1rem;background-color:#ff5c43;width:5.625rem;height:2.5rem}.signUpBtnContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-end;margin-top:.625rem}@media only screen and (max-width: 480px){.signUpText[_ngcontent-%COMP%]{text-align:center}.signUpHeading[_ngcontent-%COMP%]{font-size:1.75rem}.signUpPara[_ngcontent-%COMP%]{margin-bottom:.625rem;text-align:center;font-size:.75rem;font-weight:500!important}.loginWithFbBtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2.5rem;margin-bottom:1.25rem;border-radius:1.37rem;font-size:1rem;font-weight:600!important}.signUpForm[_ngcontent-%COMP%]{margin-bottom:0}.signUpForm[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:.625rem 0}.signUpBtnContainer[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-end;margin:0}.signUpBtnContainer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{color:#ff5c43}.signUpBtn[_ngcontent-%COMP%]{width:100%;margin-bottom:1.875rem;margin-top:.625rem}.signUpBtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;border-radius:1.37rem}.signUpFormFooter[_ngcontent-%COMP%]{align-items:center;margin:0}.signUpHeading[_ngcontent-%COMP%]{margin-bottom:1.25rem}}"]}),o})();var N=u(4707),D=u(7579);class Z extends D.x{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(a){const{hasError:n,_hasValue:t,_value:i,thrownError:r,isStopped:s,_isComplete:c}=this;n?a.error(r):(s||c)&&(t&&a.next(i),a.complete())}next(a){this.isStopped||(this._value=a,this._hasValue=!0)}complete(){const{_hasValue:a,_value:n,_isComplete:t}=this;t||(this._isComplete=!0,a&&super.next(n),super.complete())}}class U{constructor(){}loadScript(a,n,t,i=null){if(typeof document<"u"&&!document.getElementById(a)){let r=document.createElement("script");r.async=!0,r.src=n,r.onload=t,i||(i=document.head),i.appendChild(r)}}}class f{}let V=(()=>{class o extends U{constructor(n,t={scope:"email"}){super(),this.clientId=n,this.initOptions=t}initialize(){return new Promise((n,t)=>{try{this.loadScript(o.PROVIDER_ID,"https://apis.google.com/js/api.js",()=>{gapi.load("client:auth2",()=>{gapi.client.init(Object.assign(Object.assign({},this.initOptions),{client_id:this.clientId})).then(()=>{this.auth2=gapi.auth2.getAuthInstance(),n()}).catch(i=>{t(i)})})})}catch(i){t(i)}})}getLoginStatus(n){const t=Object.assign(Object.assign({},this.initOptions),n);return new Promise((i,r)=>{if(this.auth2.isSignedIn.get()){const s=new f,c=this.auth2.currentUser.get().getBasicProfile(),m=this.auth2.currentUser.get().getAuthResponse(!0);this.setUserProfile(s,c),s.response=m;const g=_=>{s.authToken=_.access_token,s.idToken=_.id_token,i(s)};t.refreshToken?this.auth2.currentUser.get().reloadAuthResponse().then(g):g(m)}else r(`No user is currently logged in with ${o.PROVIDER_ID}`)})}signIn(n){const t=Object.assign(Object.assign({},this.initOptions),n);return new Promise((i,r)=>{(t&&t.offline_access?this.auth2.grantOfflineAccess(n):this.auth2.signIn(n)).then(m=>{const g=new f;if(m&&m.code)g.authorizationCode=m.code;else{const _=this.auth2.currentUser.get().getBasicProfile(),I=this.auth2.currentUser.get().getAuthResponse(!0),$=I.access_token,W=I.id_token;this.setUserProfile(g,_),g.authToken=$,g.idToken=W,g.response=I}i(g)},m=>{r(m)}).catch(m=>{r(m)})})}signOut(n){return new Promise((t,i)=>{let r;r=n?this.auth2.disconnect():this.auth2.signOut(),r.then(s=>{s?i(s):t()}).catch(s=>{i(s)})})}setUserProfile(n,t){n.id=t.getId(),n.name=t.getName(),n.email=t.getEmail(),n.photoUrl=t.getImageUrl(),n.firstName=t.getGivenName(),n.lastName=t.getFamilyName()}}return o.PROVIDER_ID="GOOGLE",o})(),C=(()=>{class o{constructor(n){this.providers=new Map,this.autoLogin=!1,this._user=null,this._authState=new N.t(1),this.initialized=!1,this._initState=new Z,n instanceof Promise?n.then(t=>{this.initialize(t)}):this.initialize(n)}get authState(){return this._authState.asObservable()}get initState(){return this._initState.asObservable()}initialize(n){this.autoLogin=void 0!==n.autoLogin&&n.autoLogin;const{onError:t=console.error}=n;n.providers.forEach(i=>{this.providers.set(i.id,i.provider)}),Promise.all(Array.from(this.providers.values()).map(i=>i.initialize())).then(()=>{if(this.autoLogin){const i=[];let r=!1;this.providers.forEach((s,c)=>{let m=s.getLoginStatus();i.push(m),m.then(g=>{g.provider=c,this._user=g,this._authState.next(g),r=!0}).catch(console.debug)}),Promise.all(i).catch(()=>{r||(this._user=null,this._authState.next(null))})}}).catch(i=>{t(i)}).finally(()=>{this.initialized=!0,this._initState.next(this.initialized),this._initState.complete()})}refreshAuthToken(n){return new Promise((t,i)=>{if(this.initialized)if(n!==V.PROVIDER_ID)i(o.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN);else{const r=this.providers.get(n);r?r.getLoginStatus({refreshToken:!0}).then(s=>{s.provider=n,this._user=s,this._authState.next(s),t()}).catch(s=>{i(s)}):i(o.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(o.ERR_NOT_INITIALIZED)})}signIn(n,t){return new Promise((i,r)=>{if(this.initialized){let s=this.providers.get(n);s?s.signIn(t).then(c=>{c.provider=n,i(c),this._user=c,this._authState.next(c)}).catch(c=>{r(c)}):r(o.ERR_LOGIN_PROVIDER_NOT_FOUND)}else r(o.ERR_NOT_INITIALIZED)})}signOut(n=!1){return new Promise((t,i)=>{if(this.initialized)if(this._user){let s=this.providers.get(this._user.provider);s?s.signOut(n).then(()=>{t(),this._user=null,this._authState.next(null)}).catch(c=>{i(c)}):i(o.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(o.ERR_NOT_LOGGED_IN);else i(o.ERR_NOT_INITIALIZED)})}}return o.ERR_LOGIN_PROVIDER_NOT_FOUND="Login provider not found",o.ERR_NOT_LOGGED_IN="Not logged in",o.ERR_NOT_INITIALIZED="Login providers not ready yet. Are there errors on your console?",o.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN="Chosen login provider is not supported for refreshing a token",o.\u0275fac=function(n){return new(n||o)(e.LFG("SocialAuthServiceConfig"))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})(),z=(()=>{class o{constructor(n){if(n)throw new Error("SocialLoginModule is already loaded. Import it in the AppModule only")}static initialize(n){return{ngModule:o,providers:[C,{provide:"SocialAuthServiceConfig",useValue:n}]}}}return o.\u0275fac=function(n){return new(n||o)(e.LFG(o,12))},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[C],imports:[[d.ez]]}),o})(),y=(()=>{class o extends U{constructor(n,t={}){super(),this.clientId=n,this.requestOptions={scope:"email,public_profile",locale:"en_US",fields:"name,email,picture,first_name,last_name",version:"v10.0"},this.requestOptions=Object.assign(Object.assign({},this.requestOptions),t)}initialize(){return new Promise((n,t)=>{try{this.loadScript(o.PROVIDER_ID,`//connect.facebook.net/${this.requestOptions.locale}/sdk.js`,()=>{FB.init({appId:this.clientId,autoLogAppEvents:!0,cookie:!0,xfbml:!0,version:this.requestOptions.version}),n()})}catch(i){t(i)}})}getLoginStatus(){return new Promise((n,t)=>{FB.getLoginStatus(i=>{if("connected"===i.status){let r=i.authResponse;FB.api(`/me?fields=${this.requestOptions.fields}`,s=>{let c=new f;c.id=s.id,c.name=s.name,c.email=s.email,c.photoUrl="https://graph.facebook.com/"+s.id+"/picture?type=normal&access_token="+r.accessToken,c.firstName=s.first_name,c.lastName=s.last_name,c.authToken=r.accessToken,c.response=s,n(c)})}else t(`No user is currently logged in with ${o.PROVIDER_ID}`)})})}signIn(n){const t=Object.assign(Object.assign({},this.requestOptions),n);return new Promise((i,r)=>{FB.login(s=>{if(s.authResponse){let c=s.authResponse;FB.api(`/me?fields=${t.fields}`,m=>{let g=new f;g.id=m.id,g.name=m.name,g.email=m.email,g.photoUrl="https://graph.facebook.com/"+m.id+"/picture?type=normal",g.firstName=m.first_name,g.lastName=m.last_name,g.authToken=c.accessToken,g.response=m,i(g)})}else r("User cancelled login or did not fully authorize.")},t)})}signOut(){return new Promise((n,t)=>{FB.logout(i=>{n()})})}}return o.PROVIDER_ID="FACEBOOK",o})();function j(o,a){1&o&&(e.TgZ(0,"span"),e._uU(1,"Username cannot be empty"),e.qZA())}function B(o,a){if(1&o&&(e.TgZ(0,"div",17),e.YNc(1,j,2,0,"span",18),e.qZA()),2&o){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.loginform.controls.email.touched&&(null==n.loginform.controls.email.errors?null:n.loginform.controls.email.errors.required))}}function q(o,a){1&o&&(e.TgZ(0,"span"),e._uU(1,"Password cannot be empty"),e.qZA())}function J(o,a){if(1&o&&(e.TgZ(0,"div",17),e.YNc(1,q,2,0,"span",18),e.qZA()),2&o){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.loginform.controls.password.touched&&(null==n.loginform.controls.password.errors?null:n.loginform.controls.password.errors.required))}}const b=function(o){return{"is-invalid":o}};let Y=(()=>{class o{constructor(n,t,i,r,s){this.userlogin=n,this.router=t,this.shared=i,this.toast=r,this.authService=s,this.isSubmitted=!1,this.loginform=new l.cw({email:new l.NI("",[l.kI.required]),password:new l.NI("",[l.kI.required])})}getUserCredentials(){this.isValid()&&this.userlogin.userLogin(this.loginform.value).subscribe(n=>{this.userVerification(n)},()=>{this.toast.error({detail:"Error message",summary:"Login failed, Please try again later",duration:5e3})})}userVerification(n){n.status?(localStorage.setItem("token",n.token),localStorage.setItem("userid",n.userid),this.shared.currentPageNo=1,this.router.navigate(["/home/homepage"])):this.toast.error({detail:"Error message",summary:n.message,duration:5e3})}isValid(){return this.isSubmitted=!0,!this.loginform.invalid}preventEmptySpaces(n){"Space"===n.code&&n.preventDefault()}loginWithFacebook(){this.authService.signIn(y.PROVIDER_ID).then(n=>{const t=n.authToken;console.log(t),this.userlogin.loginWithFB(t).subscribe(i=>{console.log(i),this.userVerification(i)})})}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(O.r),e.Y36(p.F0),e.Y36(v.t),e.Y36(P.s),e.Y36(C))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-loginform"]],decls:26,vars:10,consts:[[1,"mainLoginContainer"],[1,"loginText"],[1,"loginHeading","medium"],[1,"loginWithFbBtn"],["type","button",1,"btn","btn-primary","medium",3,"click"],[1,"loginFormContainer"],[1,"loginForm","medium",2,"font-size","0.875rem",3,"formGroup"],["class","text-danger",4,"ngIf"],["type","text","formControlName","email","placeholder","abcd@gmail.com",1,"form-control",3,"ngClass","keydown"],["type","password","formControlName","password","placeholder","*************",1,"form-control",3,"ngClass","keydown"],[1,"loginBtnContainer"],[1,"medium",2,"font-size","1rem"],[1,"loginBtn"],[1,"btn","btn-danger","semiBold",3,"disabled","click"],[1,"loginFormFooter"],[1,"regular",2,"font-size","0.875rem"],["routerLink","/authentication/login/signup",1,"semiBold",2,"color","#FF5C43","font-size","1rem","text-decoration","none"],[1,"text-danger"],[4,"ngIf"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Login"),e.qZA(),e.TgZ(4,"div",3)(5,"button",4),e.NdJ("click",function(){return t.loginWithFacebook()}),e._uU(6,"Log in with Facebook"),e.qZA()()(),e.TgZ(7,"div",5)(8,"form",6),e.YNc(9,B,2,1,"div",7),e.TgZ(10,"input",8),e.NdJ("keydown",function(r){return t.preventEmptySpaces(r)}),e.qZA(),e.YNc(11,J,2,1,"div",7),e.TgZ(12,"input",9),e.NdJ("keydown",function(r){return t.preventEmptySpaces(r)}),e.qZA()(),e.TgZ(13,"div",10)(14,"div",11),e._uU(15,"Forgot Password?"),e.qZA(),e.TgZ(16,"div",12)(17,"button",13),e.NdJ("click",function(){return t.getUserCredentials()}),e._uU(18,"Log in"),e.qZA()()()(),e.TgZ(19,"div",14)(20,"div")(21,"span",15),e._uU(22," Don\u2019t have an account?\xa0"),e.qZA(),e.TgZ(23,"span")(24,"a",16),e._uU(25," Sign Up"),e.qZA()()()()()),2&n&&(e.xp6(8),e.Q6J("formGroup",t.loginform),e.xp6(1),e.Q6J("ngIf",t.loginform.controls.email.touched&&t.loginform.controls.email.errors),e.xp6(1),e.Q6J("ngClass",e.VKq(6,b,t.loginform.controls.email.touched&&t.loginform.controls.email.errors)),e.xp6(1),e.Q6J("ngIf",t.loginform.controls.password.touched&&t.loginform.controls.password.errors),e.xp6(1),e.Q6J("ngClass",e.VKq(8,b,t.loginform.controls.password.touched&&t.loginform.controls.password.errors)),e.xp6(5),e.Q6J("disabled",t.loginform.invalid))},dependencies:[d.mk,d.O5,p.rH,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u],styles:[".mainLoginContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%}.loginText[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.loginHeading[_ngcontent-%COMP%]{font-size:2.125rem;margin-bottom:3.75rem}.loginPara[_ngcontent-%COMP%]{font-size:.875rem;margin-bottom:1.43rem}.loginFormContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column}.loginWithFbBtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-bottom:2.5rem;min-height:2.5rem;background-color:#1877f2;font-size:.875rem}.loginForm[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-evenly}.loginForm[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:.625rem}input[_ngcontent-%COMP%]::placeholder{opacity:.4}input[_ngcontent-%COMP%]:focus::placeholder{color:transparent}.loginFormFooter[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:end;margin-top:2.5rem}.loginFormFooter[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.loginBtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1rem;background-color:#ff5c43;width:5.625rem;height:2.5rem}.loginBtnContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;margin-top:.625rem}@media only screen and (max-width: 480px){.loginText[_ngcontent-%COMP%]{text-align:center}.loginHeading[_ngcontent-%COMP%]{font-size:1.75rem}.loginPara[_ngcontent-%COMP%]{margin-bottom:0;font-size:.75rem;font-weight:500!important}.loginWithFbBtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2.5rem;margin-bottom:1.25rem;border-radius:1.37rem;font-size:1rem;font-weight:600!important}.loginForm[_ngcontent-%COMP%]{margin-bottom:0}.loginForm[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:.625rem 0}.loginBtnContainer[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-end;margin:0}.loginBtnContainer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{color:#ff5c43}.loginBtn[_ngcontent-%COMP%]{width:100%;margin-bottom:1.875rem;margin-top:2.5rem}.loginBtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;border-radius:1.37rem}.loginFormFooter[_ngcontent-%COMP%]{align-items:center;margin:0}.loginHeading[_ngcontent-%COMP%]{margin-bottom:1.25rem}}"]}),o})(),K=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-loginimage"]],decls:3,vars:0,consts:[[1,"loginpageImages"],["alt","Login image",1,"loginImg"],["id","logo","alt","logo"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"div",1)(2,"img",2),e.qZA())},styles:[".loginImg[_ngcontent-%COMP%]{width:100%;height:100%;content:url(login-image-desktop.323aec94260bb1ec.png)}.loginpageImages[_ngcontent-%COMP%]{position:relative;height:100%}#logo[_ngcontent-%COMP%]{position:absolute;left:4.97%;bottom:6.2%;height:3.47rem;width:6.19rem;content:url(login-page-logo-desktop.85f9cad47882a9ed.png)}@media only screen and (max-width: 480px){.loginImg[_ngcontent-%COMP%]{content:url(img_login_m.b6db12a4dfd06bcf.png)}#logo[_ngcontent-%COMP%]{left:9.54%;bottom:11.45%;height:20%;width:26.4%;content:url(img_infotika_login_m.3e8e5cf5547fff49.png)}.techs[_ngcontent-%COMP%]{font-size:1.4rem;flex-direction:column}.techs[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:11rem;height:10rem}}"]}),o})();const G=[{path:"",pathMatch:"full",redirectTo:"login"},{path:"login",component:(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-loginpage"]],decls:6,vars:0,consts:[[1,"mainLoginPageContainer"],[1,"loginPageContainer"],[1,"loginImage"],[1,"loginForm"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-loginimage"),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"router-outlet"),e.qZA()()())},dependencies:[p.lC,K],styles:[".mainLoginPageContainer[_ngcontent-%COMP%]{width:100%;min-height:100vh;display:flex;justify-content:center;align-items:center}.loginPageContainer[_ngcontent-%COMP%]{height:84.48vh;width:90.77vw;display:flex;flex-direction:row;background-color:#faf8fd}.loginImage[_ngcontent-%COMP%]{height:100%;width:66.66%}.loginForm[_ngcontent-%COMP%]{padding:4.84% 1.62%;width:33.33%}@media only screen and (max-width: 960px){.mainLoginPageContainer[_ngcontent-%COMP%]{align-items:unset}.loginPageContainer[_ngcontent-%COMP%]{flex-direction:column}.mainLoginPageContainer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%}.loginForm[_ngcontent-%COMP%]{padding:5.33%;width:100%;height:100%}}@media only screen and (max-width: 480px){.mainLoginPageContainer[_ngcontent-%COMP%]{align-items:unset}.mainLoginPageContainer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:100%;width:100%}.loginPageContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.loginImage[_ngcontent-%COMP%]{height:33.74%;width:100%}.loginForm[_ngcontent-%COMP%]{padding:9.99% 5.33%;width:100%;height:100%}}@media only screen and (max-height: 570px){.mainLoginPageContainer[_ngcontent-%COMP%]{align-items:unset}.loginPageContainer[_ngcontent-%COMP%]{height:auto}}"]}),o})(),children:[{path:"",pathMatch:"full",redirectTo:"userlogin"},{path:"userlogin",component:Y},{path:"signup",component:E},{path:"verify",component:R},{path:"**",redirectTo:"userlogin"}]}];let Q=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.Bz.forChild(G),p.Bz]}),o})(),H=(()=>{class o{constructor(){console.log("userauthentication module")}}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[{provide:"SocialAuthServiceConfig",useValue:{autoLogin:!1,providers:[{id:y.PROVIDER_ID,provider:new y("1216033002262701")}]}}],imports:[d.ez,Q,l.UX,l.u5,z]}),o})()}}]);