"use strict";(self.webpackChunkblog_assignment=self.webpackChunkblog_assignment||[]).push([[140],{4218:(b,p,a)=>{a.d(p,{c:()=>c});var r=a(4650);let c=(()=>{class l{}return l.\u0275fac=function(e){return new(e||l)},l.\u0275cmp=r.Xpm({type:l,selectors:[["app-footer"]],decls:1,vars:0,consts:[[1,"footerContainer"]],template:function(e,m){1&e&&r._UZ(0,"div",0)},styles:[".footerContainer[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#58504a}"]}),l})()},9624:(b,p,a)=>{a.d(p,{S:()=>U});var r=a(433),c=a(2340),l=a(5226),d=a.n(l),e=a(4650),m=a(8616),u=a(1939),h=a(881),f=a(8768),_=a(6895);let C=(()=>{class n{constructor(t,i,o){this.apiCall=t,this.router=i,this.toast=o}createNewBLog(){this.router.navigate(["/addblog/post"])}logOut(){this.apiCall.logOut().subscribe(t=>{t.status&&(this.router.navigate(["/authentication/login"]),localStorage.clear())},t=>{this.toast.error({detail:"Error message",summary:t.statusText,duration:5e3})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.r),e.Y36(m.F0),e.Y36(f.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-mobile-sidebar"]],decls:15,vars:0,consts:[[1,"mobileSidebarContainer"],[1,"sideBarContent"],[1,"sideBarEle","profile"],["src","assets/Home page assets/Mobile assets/Group 39100@2x.png","alt","",1,"siderBarImg"],[1,"sideBarEle","horizontalRule"],[1,"sideBarEle","createBlog"],["src","assets/Home page assets/Mobile assets/Layer 11@2x.png","alt","",1,"siderBarImg"],[3,"click"],[1,"sideBarEle","logOut"],["src","assets/Home page assets/Mobile assets/80506070016291291753835@2x.png","alt","",1,"siderBarImg"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"img",3),e.TgZ(4,"span"),e._uU(5,"Profile"),e.qZA()(),e._UZ(6,"div",4),e.TgZ(7,"div",5),e._UZ(8,"img",6),e.TgZ(9,"span",7),e.NdJ("click",function(){return i.createNewBLog()}),e._uU(10,"Create Blog"),e.qZA()(),e.TgZ(11,"div",8),e._UZ(12,"img",9),e.TgZ(13,"span",7),e.NdJ("click",function(){return i.logOut()}),e._uU(14,"Logout"),e.qZA()()()())},styles:[".mobileSidebarContainer[_ngcontent-%COMP%]{width:100%;background:#2F2F2F 0% 0% no-repeat padding-box;opacity:.92}.sideBarContent[_ngcontent-%COMP%]{padding:1.25rem}.mobileSidebarContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font:normal normal medium 16px/30px Montserrat;letter-spacing:0px;color:#fff;opacity:1}.sideBarEle[_ngcontent-%COMP%]{margin-bottom:1.25rem;display:flex;flex-direction:row}.sideBarEle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font:normal normal medium 16px/30px Montserrat;letter-spacing:0px;color:#fff;margin-left:.625rem;cursor:pointer}.siderBarImg[_ngcontent-%COMP%]{height:1.25rem;width:1.25rem}.horizontalRule[_ngcontent-%COMP%]{border:1px solid #5D5D5D}"]}),n})();function v(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",16)(1,"div",17)(2,"div",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.toggleUpdateProfileWindow())}),e._UZ(3,"img",19),e._uU(4,"Profile"),e.qZA(),e.TgZ(5,"div",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.createNewBLog())}),e._UZ(6,"img",20),e._uU(7," Create Blog"),e.qZA(),e.TgZ(8,"div",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.logOut())}),e._UZ(9,"img",21),e._uU(10," Logout"),e.qZA()()()}}function P(n,s){1&n&&(e.TgZ(0,"div",22),e._UZ(1,"app-mobile-sidebar"),e.qZA())}const I=function(n){return{disabledBtn:n}};function x(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"form",24)(2,"div",25),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(4);return e.KtG(o.click())}),e.TgZ(3,"input",26,27),e.NdJ("change",function(o){e.CHM(t);const g=e.oxw();return e.KtG(g.onProfileSelect(o))}),e.qZA(),e._UZ(5,"img",11)(6,"img",28),e.qZA(),e.TgZ(7,"div",29)(8,"div",30)(9,"span"),e._uU(10,"User ID"),e.qZA(),e.TgZ(11,"span",31),e._uU(12),e.qZA()(),e.TgZ(13,"div",32)(14,"label",33),e._uU(15,"Name "),e.qZA(),e._UZ(16,"input",34),e.qZA(),e.TgZ(17,"div",35)(18,"label",36),e._uU(19,"Designation"),e.qZA(),e._UZ(20,"input",37),e.qZA(),e.TgZ(21,"div",38)(22,"label",39),e._uU(23,"Organization"),e.qZA(),e._UZ(24,"input",40),e.qZA(),e.TgZ(25,"div",41)(26,"span",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.toggleUpdateProfileWindow())}),e._uU(27,"Cancle"),e.qZA(),e.TgZ(28,"button",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.updateUserProfile())}),e._uU(29,"Update"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.updateProfileForm),e.xp6(4),e.Q6J("src",t.selectedProfileImageUrl?t.selectedProfileImageUrl:t.profileImageUrl?t.profileImageUrl:t.apiUrl+"profileimage/"+t.userInfo.ID,e.LSH),e.xp6(7),e.Oqu(t.userInfo.ID),e.xp6(16),e.Q6J("disabled",t.updateProfileForm.invalid)("ngClass",e.VKq(5,I,t.updateProfileForm.invalid))}}let U=(()=>{class n{constructor(t,i,o,g){this.router=t,this.apiCall=i,this.shared=o,this.toast=g,this.profileImg="",this.isUpdateWindowVisible=!1,this.isVisible=!1,this.isSidebarVisible=!1,this.profileImageUrl="",this.selectedProfileImageUrl="",this.userInfo={ID:0,name:"",designation:"",organization:"",profile_image:""},this.apiUrl=c.N.apiUrl,this.isProfileUpload=!1,this.updateProfileForm=new r.cw({profileImg:new r.NI("",[r.kI.required]),updatedName:new r.NI("",[r.kI.required]),designation:new r.NI("",[r.kI.required]),organization:new r.NI("",[r.kI.required])}),this.getUserInfo(),this.shared.getProfileImageUrl.subscribe(O=>{this.profileImageUrl=O}),this.profileImageUrl=this.shared.profileImageUrl}getUserInfo(){this.apiCall.getUserDetails().subscribe(t=>{this.userInfo=t})}createNewBLog(){this.router.navigate(["/addblog/post"])}logOut(){this.apiCall.logOut().subscribe(t=>{t.status&&(this.router.navigate(["/authentication/login"]),localStorage.clear())},t=>{this.toast.error({detail:"Error message",summary:t.statusText,duration:5e3})})}toggleLogOutWindow(){this.isVisible=!this.isVisible}logoClick(){this.router.navigate(["/home/homepage"])}toggleMobileSidebar(){this.isSidebarVisible=!this.isSidebarVisible}toggleUpdateProfileWindow(){this.isUpdateWindowVisible=!this.isUpdateWindowVisible,this.updateProfileForm.get("updatedName")?.setValue(this.userInfo.name),this.updateProfileForm.get("designation")?.setValue(this.userInfo.designation),this.updateProfileForm.get("organization")?.setValue(this.userInfo.organization)}onProfileSelect(t){if(t.target.files){const o=new FileReader;o.readAsDataURL(t.target.files[0]),o.onload=g=>{this.selectedProfileImageUrl=g.target.result,this.isProfileUpload=!0}}this.updateProfileForm.patchValue({profileImg:t.target.files[0]})}updateUserProfile(){if(this.isValid()){const t=new FormData;t.append("profile_image",this.updateProfileForm.get("profileImg")?.value),t.append("name",this.updateProfileForm.get("updatedName")?.value),t.append("designation",this.updateProfileForm.get("designation")?.value),t.append("organization",this.updateProfileForm.get("organization")?.value),this.apiCall.updateUserDetail(t).subscribe(i=>{console.log(i),"Profile Updated"===i.message?(this.toast.success({detail:"Sucess",summary:"User Profile updated successfully",duration:5e3}),this.getUserInfo(),this.shared.setProfileImageUrl=this.selectedProfileImageUrl,this.shared.profileImageUrl=this.selectedProfileImageUrl,this.profileImageUrl=this.selectedProfileImageUrl,this.isUpdateWindowVisible=!1):"Profile not Updated"===i.message?this.toast.error({detail:"Error",summary:"Profile not updated",duration:5e3}):"invalid token. Please try again"===i.message&&(this.router.navigate(["/authentication/login"]),d().fire("Session Expired Please Login Again"))})}else this.toast.error({detail:"Error",summary:"Please Enter valid information",duration:5e3})}isValid(){return!(this.updateProfileForm.invalid||""===this.updateProfileForm.value.updatedName.trim()||""===this.updateProfileForm.value.designation.trim()||""===this.updateProfileForm.value.organization.trim())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.F0),e.Y36(u.r),e.Y36(h.t),e.Y36(f.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-navbar"]],inputs:{profileImg:"profileImg"},decls:17,vars:4,consts:[[1,"navigation"],[1,"leftNavContent"],[1,"breadcrumbLogo"],["src","assets/Home page assets/Desktop assets/ic_drawer_m.png","alt","Breadcrumb",3,"click"],[1,"infoTikaLogo",3,"click"],["src","assets/Home page assets/Desktop assets/img_infotika_header.png","alt",""],[1,"rightNavContent"],[1,"bellIcon"],["src","assets/Home page assets/Desktop assets/ic_notification.png","alt",""],["src","assets/Home page assets/Desktop assets/ic_notification_dot.png","alt","",1,"dotIcon"],[1,"profilePicture",3,"click"],["alt","",1,"profileImg",3,"src"],["src","assets/Home page assets/Desktop assets/ic_profile_dropdown.png","alt",""],["class","logOutOptionContainer",4,"ngIf"],["class","mobileSidebar",4,"ngIf"],["class","updateProfile",4,"ngIf"],[1,"logOutOptionContainer"],[1,"logOutOption"],[1,"logOutEle",3,"click"],["src","assets/Home page assets/Desktop assets/profile icon.png","alt","",1,"logOut"],["src","assets/Home page assets/Desktop assets/Layer 11.png","alt","",1,"createBlog"],["src","assets/Home page assets/Desktop assets/logout.png","alt","",1,"logOut"],[1,"mobileSidebar"],[1,"updateProfile"],[1,"updateProfileModal",3,"formGroup"],[1,"updateProfileImg","profileImg","profilePicture",3,"click"],["type","file","accept",".jpg, .jpeg, .png",2,"display","none",3,"change"],["profileImgInput",""],["src","assets/Home page assets/Desktop assets/plus.png","alt","",1,"plusIcon"],[1,"userInfo"],[1,"userInfoInput"],[1,"userID"],[1,"userInfoInput","userName"],["for","username"],["type","text","formControlName","updatedName","id","username"],[1,"userInfoInput","designation"],["for","designation"],["type","text","formControlName","designation","id","designation"],[1,"userInfoInput","organization"],["for","organization"],["type","text","formControlName","organization","id","organization"],[1,"saveUpdateBtn","userInfoInput"],[1,"cancleBtn",3,"click"],[1,"updateBtn",3,"disabled","ngClass","click"]],template:function(t,i){1&t&&(e.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"img",3),e.NdJ("click",function(){return i.toggleMobileSidebar()}),e.qZA()(),e.TgZ(4,"div",4),e.NdJ("click",function(){return i.logoClick()}),e._UZ(5,"img",5),e.qZA()(),e.TgZ(6,"div",6)(7,"div",7),e._UZ(8,"img",8)(9,"img",9),e.qZA(),e.TgZ(10,"div",10),e.NdJ("click",function(){return i.toggleLogOutWindow()}),e._UZ(11,"img",11),e.TgZ(12,"span"),e._UZ(13,"img",12),e.qZA(),e.YNc(14,v,11,0,"div",13),e.qZA()()(),e.YNc(15,P,2,0,"div",14),e.YNc(16,x,30,7,"div",15)),2&t&&(e.xp6(11),e.Q6J("src",i.profileImageUrl?i.profileImageUrl:i.apiUrl+"profileimage/"+i.userInfo.ID,e.LSH),e.xp6(3),e.Q6J("ngIf",i.isVisible),e.xp6(1),e.Q6J("ngIf",i.isSidebarVisible),e.xp6(1),e.Q6J("ngIf",i.isUpdateWindowVisible))},dependencies:[_.mk,_.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,C],styles:[".navigation[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.leftNavContent[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.mobileSidebar[_ngcontent-%COMP%]{display:none}.rightNavContent[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.breadcrumbLogo[_ngcontent-%COMP%]{display:none;cursor:pointer}.infoTikaLogo[_ngcontent-%COMP%]{margin-left:7px;cursor:pointer}.bellIcon[_ngcontent-%COMP%]{margin-right:1.56rem;position:relative}.dotIcon[_ngcontent-%COMP%]{position:absolute;left:7px;top:2px}.profilePicture[_ngcontent-%COMP%]{position:relative;cursor:pointer;-webkit-user-select:none;user-select:none}.profilePicture[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:.625rem}.profileImg[_ngcontent-%COMP%]{height:2.5rem;border-radius:1.25rem;width:2.5rem}.logOutOptionContainer[_ngcontent-%COMP%]{position:absolute;right:0;width:9.56rem;display:flex;margin-top:.625rem;align-items:center;background:#FFFFFF 0% 0% no-repeat padding-box;box-shadow:2px 3px 8px #0000002b;border-radius:6px;font: 500 1rem/1.875rem Montserrat}.logOutOption[_ngcontent-%COMP%]{width:100%}.logOutEle[_ngcontent-%COMP%]{display:flex;align-items:center;height:1.875rem;width:100%;margin:5px 0;cursor:pointer}.logOutEle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1.125rem;height:1.125rem;margin-left:.93rem;margin-right:.53rem}.updateProfile[_ngcontent-%COMP%]{width:100%;left:0;top:0;min-height:100vh;position:fixed;z-index:2;display:flex;align-items:center;justify-content:center;background:#2F2F2F 0% 0% no-repeat padding-box;background-color:#000c}.updateProfileModal[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;position:absolute;background-color:#000;background-color:#0006;background:white;padding:2rem 5rem;border-radius:1.875rem;box-shadow:0 0 4px}.userInfo[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:-webkit-fill-available}.userInfoInput[_ngcontent-%COMP%]{display:grid;grid-template-columns:30% 70%;margin:1rem 0}.userID[_ngcontent-%COMP%]{margin-left:1rem}.userInfoInput[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:2.5rem;border:1px solid #EDEDED;border-radius:6px;display:flex;flex-direction:row;align-items:center;cursor:text;font: 500 16px/30px Montserrat;color:#a0a0a0;padding:0 .625rem;margin-left:1rem}.plusIcon[_ngcontent-%COMP%]{height:1.2rem;width:1.2rem;position:absolute;background-color:#fff;border-radius:8px;bottom:0;right:0}.cancleBtn[_ngcontent-%COMP%]{color:#ff5c43;font: 600 18px/30px Montserrat;margin-right:1.25rem;cursor:pointer;display:flex;align-items:center}.updateBtn[_ngcontent-%COMP%]{background:#FF5C43 0% 0% no-repeat padding-box;border-radius:20px;letter-spacing:0px;color:#fff;border:none;width:5.62rem;font: 600 18px/30px Montserrat;height:2.5rem;margin-left:1rem}.disabledBtn[_ngcontent-%COMP%]{opacity:.7;cursor:not-allowed}@media only screen and (max-width: 480px){.breadcrumbLogo[_ngcontent-%COMP%]{display:block}.infoTikaLogo[_ngcontent-%COMP%]{margin-left:1.25rem}.profilePicture[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .logOutOptionContainer[_ngcontent-%COMP%]{display:none}.mobileSidebar[_ngcontent-%COMP%]{display:block;position:absolute;left:0;margin-top:.625rem;width:100%}}@media only screen and (max-height: 430px){.updateProfile[_ngcontent-%COMP%]{padding:4rem;align-items:unset;overflow-y:scroll}}"]}),n})()}}]);